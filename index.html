<!DOCTYPE html>
<html lang="uk">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
Â  Â  <meta name="description" content="AR-ÑÑ†ĞµĞ½Ğ° Ğ· Ğ¿Ğ¸ÑĞ°Ğ½ĞºĞ¾Ñ Ğ´Ğ»Ñ Ğ´Ñ–Ñ‚ĞµĞ¹">
Â  Â  <title>ğŸ¥šÂ«ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ½Ğ° Ğ´Ğ¾Ğ»Ğ¾Ğ½Ñ–Â» ğŸ¨</title>

Â  Â  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>

Â  Â  <style>
Â  Â  Â  Â  html, body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  background: transparent;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  a-scene {
Â  Â  Â  Â  Â  Â  width: 100% !important;
Â  Â  Â  Â  Â  Â  height: 100% !important;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  background: transparent;
Â  Â  Â  Â  }

Â  Â  Â  Â  .arjs-loader {
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  background: rgba(135, 206, 235, 0.2);
Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  color: #FF4500;
Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  font-family: 'Comic Neue', 'Comic Sans MS', cursive, sans-serif;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes pulse {
Â  Â  Â  Â  Â  Â  0% { transform: scale(1); }
Â  Â  Â  Â  Â  Â  50% { transform: scale(1.1); }
Â  Â  Â  Â  Â  Â  100% { transform: scale(1); }
Â  Â  Â  Â  }

Â  Â  Â  Â  .pulse { animation: pulse 1.5s infinite; }

Â  Â  Â  Â  .controls {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  bottom: 20px;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  z-index: 10000;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .sound-btn, .youtube-btn {
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-family: 'Comic Neue', 'Comic Sans MS', cursive, sans-serif;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .sound-btn { background-color: #4CAF50; color: white; }
Â  Â  Â  Â  .sound-btn.off { background-color: #f44336; }
Â  Â  Â  Â  .youtube-btn { background-color: #FF9800; color: white; }
Â  Â  Â  Â  .youtube-btn:hover { background-color: #FFB300; }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="arjs-loader" id="loader">
Â  Â  Â  Â  <div class="pulse">ğŸ¥š ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ½Ğ° Ğ´Ğ¾Ğ»Ğ¾Ğ½Ñ– ğŸ¨</div>
Â  Â  Â  Â  <div style="margin-top: 20px; font-size: 1.2em;">ĞĞ°Ğ²ĞµĞ´Ğ¸ ĞºĞ°Ğ¼ĞµÑ€Ñƒ Ğ½Ğ° Ğ¼Ğ°Ñ€ĞºĞµÑ€! ğŸ˜ŠğŸ¨</div>
Â  Â  </div>

Â  Â  <a-scene
Â  Â  Â  Â  mindar-image="imageTargetSrc: ./my-marker.mind;"
Â  Â  Â  Â  vr-mode-ui="enabled: false"
Â  Â  Â  Â  device-orientation-permission-ui="enabled: false"
Â  Â  Â  Â  loading-screen="enabled: false"
Â  Â  Â  Â  embedded
Â  Â  Â  Â  renderer="colorManagement: true; physicallyCorrectLights: true;"
Â  Â  Â  Â  touch-gestures
Â  Â  >
Â  Â  Â  Â  <a-assets>
Â  Â  Â  Â  Â  Â  <audio id="bg-music" src="./bg-music.mp3" preload="auto" loop></audio>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img id="pisanka-texture-1" src="./pisanka-1.jpg">
Â  Â  Â  Â  Â  Â  <img id="pisanka-texture-2" src="./pisanka-2.jpg">
Â  Â  Â  Â  Â  Â  <img id="pisanka-texture-3" src="./pisanka-3.jpg">
Â  Â  Â  Â  Â  Â  <img id="pisanka-texture-4" src="./pisanka-4.jpg">
Â  Â  Â  Â  </a-assets>

Â  Â  Â  Â  <a-camera
Â  Â  Â  Â  Â  Â  id="camera"
Â  Â  Â  Â  Â  Â  position="0 0 1.5"
Â  Â  Â  Â  Â  Â  look-controls="enabled: false"
Â  Â  Â  Â  ></a-camera>

Â  Â  Â  Â  <a-entity mindar-image-target="targetIndex: 0">
Â  Â  Â  Â  Â  Â  <a-sphere
Â  Â  Â  Â  Â  Â  Â  Â  id="pisanka"
Â  Â  Â  Â  Â  Â  Â  Â  position="0 0 -0.5"
Â  Â  Â  Â  Â  Â  Â  Â  radius="0.4"
Â  Â  Â  Â  Â  Â  Â  Â  scale="0.6 1 0.6"
Â  Â  Â  Â  Â  Â  Â  Â  src="#pisanka-texture-1"
Â  Â  Â  Â  Â  Â  Â  Â  visible="false"
Â  Â  Â  Â  Â  Â  Â  Â  material="opacity: 1; transparent: false"
Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  <a-animation
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  attribute="rotation"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  to="0 360 0"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dur="5000"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  repeat="indefinite"
Â  Â  Â  Â  Â  Â  Â  Â  ></a-animation>
Â  Â  Â  Â  Â  Â  </a-sphere>
Â  Â  Â  Â  </a-entity>
Â  Â  </a-scene>

Â  Â  <div class="controls">
Â  Â  Â  Â  <button id="sound-btn" class="sound-btn">Ğ£Ğ²Ñ–Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ·Ğ²ÑƒĞº</button>
Â  Â  Â  Â  <button id="next-btn" class="sound-btn">Ğ”Ğ°Ğ»Ñ– â¡ï¸</button>
Â  Â  Â  Â  <a href="https://www.youtube.com/playlist?list=PL6UDFwT9TzFw5K8Tzu_OgsDz7vV3N9eY-" target="_blank" class="youtube-btn">YouTube SmartLessa</a>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ğ½Ğ¾Ğ³Ğ¾ ĞµĞºÑ€Ğ°Ğ½Ñƒ
Â  Â  Â  Â  function fixHeight() {
Â  Â  Â  Â  Â  Â  document.body.style.height = window.innerHeight + 'px';
Â  Â  Â  Â  }
Â  Â  Â  Â  fixHeight();
Â  Â  Â  Â  window.addEventListener('resize', fixHeight);

Â  Â  Â  Â  // ĞŸĞ¾ÑĞ¸Ğ»Ğ°Ğ½Ğ½Ñ Ğ½Ğ° ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¸
Â  Â  Â  Â  const loader = document.querySelector('#loader');
Â  Â  Â  Â  const targetEntity = document.querySelector('[mindar-image-target]');
Â  Â  Â  Â  const pisanka = document.querySelector('#pisanka');
Â  Â  Â  Â  const bgMusic = document.querySelector('#bg-music');
Â  Â  Â  Â  const soundBtn = document.querySelector('#sound-btn');
Â  Â  Â  Â  const nextBtn = document.querySelector('#next-btn');

Â  Â  Â  Â  // ĞœĞ°ÑĞ¸Ğ² Ğ· Ñ–Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ñ–ĞºĞ°Ñ‚Ğ¾Ñ€Ğ°Ğ¼Ğ¸ Ñ‚ĞµĞºÑÑ‚ÑƒÑ€
Â  Â  Â  Â  const pisankaTextures = ['#pisanka-texture-1', '#pisanka-texture-2', '#pisanka-texture-3', '#pisanka-texture-4'];
Â  Â  Â  Â  let currentTextureIndex = 0;

Â  Â  Â  Â  // ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ‚ĞµĞºÑÑ‚ÑƒÑ€
Â  Â  Â  Â  pisankaTextures.forEach(id => {
Â  Â  Â  Â  Â  Â  const textureEl = document.querySelector(id);
Â  Â  Â  Â  Â  Â  if (textureEl) {
Â  Â  Â  Â  Â  Â  Â  Â  textureEl.addEventListener('load', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(`Ğ¢ĞµĞºÑÑ‚ÑƒÑ€Ğ° ${id} ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ°`);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  textureEl.addEventListener('error', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error(`ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ñ‚ĞµĞºÑÑ‚ÑƒÑ€Ğ¸ ${id}`);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });


Â  Â  Â  Â  // Ğ›Ğ¾Ğ³Ñ–ĞºĞ° Ğ²Ñ–Ğ´ÑÑ‚ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°
Â  Â  Â  Â  if (targetEntity) {
Â  Â  Â  Â  Â  Â  targetEntity.addEventListener('targetFound', () => {
Â  Â  Â  Â  Â  Â  Â  Â  console.log("ğŸ¯ ĞœĞ°Ñ€ĞºĞµÑ€ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾! ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ·'ÑĞ²Ğ¸Ğ»Ğ°ÑÑ.");
Â  Â  Â  Â  Â  Â  Â  Â  loader.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  if (pisanka) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pisanka.setAttribute('visible', 'true');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log("ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ°:", pisanka.getAttribute('visible'));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pisanka.components.animation.pause();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (bgMusic && bgMusic.paused) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  bgMusic.play().catch(e => console.log("ğŸ”‡ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ²Ñ–Ğ´Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¼ÑƒĞ·Ğ¸ĞºĞ¸:", e));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  soundBtn.classList.remove('off');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  soundBtn.textContent = 'Ğ’Ğ¸Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ·Ğ²ÑƒĞº';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  targetEntity.addEventListener('targetLost', () => {
Â  Â  Â  Â  Â  Â  Â  Â  console.log("â„¹ï¸ ĞœĞ°Ñ€ĞºĞµÑ€ Ğ²Ñ‚Ñ€Ğ°Ñ‡ĞµĞ½Ğ¾.");
Â  Â  Â  Â  Â  Â  Â  Â  if (pisanka) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pisanka.setAttribute('visible', 'false');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log("ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ½ĞµĞ²Ğ¸Ğ´Ğ¸Ğ¼Ğ°:", pisanka.getAttribute('visible'));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pisanka.components.animation.play();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (bgMusic && !bgMusic.paused) bgMusic.pause();
Â  Â  Â  Â  Â  Â  Â  Â  loader.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  loader.querySelector('.pulse').textContent = 'ğŸ¥š ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ½Ğ° Ğ´Ğ¾Ğ»Ğ¾Ğ½Ñ– ğŸ¨';
Â  Â  Â  Â  Â  Â  Â  Â  loader.querySelector('div[style]').textContent = 'ĞĞ°Ğ²ĞµĞ´Ğ¸ ĞºĞ°Ğ¼ĞµÑ€Ñƒ Ğ½Ğ° Ğ¼Ğ°Ñ€ĞºĞµÑ€! ğŸ˜ŠğŸ¨';
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  console.error('Ğ•Ğ»ĞµĞ¼ĞµĞ½Ñ‚ mindar-image-target Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾!');
Â  Â  Â  Â  }

Â  Â  Â  Â  // ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ·Ğ²ÑƒĞºÑƒ
Â  Â  Â  Â  soundBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  if (bgMusic.paused) {
Â  Â  Â  Â  Â  Â  Â  Â  bgMusic.play().catch(e => console.log("ğŸ”‡ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ²Ñ–Ğ´Ñ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ Ğ¼ÑƒĞ·Ğ¸ĞºĞ¸:", e));
Â  Â  Â  Â  Â  Â  Â  Â  soundBtn.classList.remove('off');
Â  Â  Â  Â  Â  Â  Â  Â  soundBtn.textContent = 'Ğ’Ğ¸Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ·Ğ²ÑƒĞº';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  bgMusic.pause();
Â  Â  Â  Â  Â  Â  Â  Â  soundBtn.classList.add('off');
Â  Â  Â  Â  Â  Â  Â  Â  soundBtn.textContent = 'Ğ£Ğ²Ñ–Ğ¼ĞºĞ½ÑƒÑ‚Ğ¸ Ğ·Ğ²ÑƒĞº';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  // ĞĞ±Ñ€Ğ¾Ğ±ĞºĞ° ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ "Ğ”Ğ°Ğ»Ñ–"
Â  Â  Â  Â  nextBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  // Ğ—Ğ±Ñ–Ğ»ÑŒÑˆÑƒÑ”Ğ¼Ğ¾ Ñ–Ğ½Ğ´ĞµĞºÑ Ğ½Ğ° 1, Ğ° Ğ¿Ğ¾Ñ‚Ñ–Ğ¼ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ğ¼Ğ¾ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ (%)
Â  Â  Â  Â  Â  Â  // Ñ‰Ğ¾Ğ± Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸ÑÑ Ğ´Ğ¾ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ Ğ¼Ğ°ÑĞ¸Ğ²Ñƒ, ĞºĞ¾Ğ»Ğ¸ Ğ´Ğ¾ÑÑĞ³Ğ½ĞµĞ¼Ğ¾ ĞºÑ–Ğ½Ñ†Ñ.
Â  Â  Â  Â  Â  Â  currentTextureIndex = (currentTextureIndex + 1) % pisankaTextures.length;

Â  Â  Â  Â  Â  Â  // ĞĞ½Ğ¾Ğ²Ğ»ÑÑ”Ğ¼Ğ¾ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚ 'src' Ğ¿Ğ¸ÑĞ°Ğ½ĞºĞ¸ Ğ½Ğ° Ğ½Ğ¾Ğ²Ñƒ Ñ‚ĞµĞºÑÑ‚ÑƒÑ€Ñƒ.
Â  Â  Â  Â  Â  Â  pisanka.setAttribute('src', pisankaTextures[currentTextureIndex]);
Â  Â  Â  Â  Â  Â  console.log(`ğŸ–¼ï¸ Ğ—Ğ¼Ñ–Ğ½ĞµĞ½Ğ¾ Ñ‚ĞµĞºÑÑ‚ÑƒÑ€Ñƒ Ğ½Ğ°: ${pisankaTextures[currentTextureIndex]}`);
Â  Â  Â  Â  });


Â  Â  Â  Â  // ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºĞ¸ ÑĞµĞ½ÑĞ¾Ñ€Ğ½Ğ¸Ñ… Ğ¶ĞµÑÑ‚Ñ–Ğ²
Â  Â  Â  Â  AFRAME.registerComponent('touch-gestures', {
Â  Â  Â  Â  Â  Â  schema: {
Â  Â  Â  Â  Â  Â  Â  Â  minScale: { type: 'number', default: 0.2 },
Â  Â  Â  Â  Â  Â  Â  Â  maxScale: { type: 'number', default: 3.0 },
Â  Â  Â  Â  Â  Â  Â  Â  rotationSpeed: { type: 'number', default: 2.0 }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  init: function () {
Â  Â  Â  Â  Â  Â  Â  Â  this.isRotating = false;
Â  Â  Â  Â  Â  Â  Â  Â  this.isPinching = false;
Â  Â  Â  Â  Â  Â  Â  Â  this.startPos = { x: 0, y: 0 };
Â  Â  Â  Â  Â  Â  Â  Â  this.currentScale = 1;
Â  Â  Â  Â  Â  Â  Â  Â  this.pisanka = document.querySelector('#pisanka');

Â  Â  Â  Â  Â  Â  Â  Â  if (!this.pisanka) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('ĞŸĞ¸ÑĞ°Ğ½ĞºĞ° Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ° Ğ² ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ– touch-gestures');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  this.el.addEventListener('touchstart', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (e.touches.length === 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.isRotating = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.startPos.x = e.touches[0].pageX;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.startPos.y = e.touches[0].pageY;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (e.touches.length === 2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.isPinching = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.isRotating = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.initialDistance = Math.hypot(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.touches[0].pageX - e.touches[1].pageX,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.touches[0].pageY - e.touches[1].pageY
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.currentScale = this.pisanka.object3D.scale.x;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  this.el.addEventListener('touchmove', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (this.isPinching && e.touches.length === 2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const currentDistance = Math.hypot(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.touches[0].pageX - e.touches[1].pageX,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.touches[0].pageY - e.touches[1].pageY
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const scaleFactor = currentDistance / this.initialDistance;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const newScale = Math.max(this.data.minScale, Math.min(this.data.maxScale, this.currentScale * scaleFactor));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Ğ—Ğ±ĞµÑ€Ñ–Ğ³Ğ°Ñ”Ğ¼Ğ¾ Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ñ€Ñ†Ñ–Ñ ÑĞ¹Ñ†Ñ (0.6:1:0.6)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eggScaleX = newScale * 0.6;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eggScaleY = newScale * 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const eggScaleZ = newScale * 0.6;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.pisanka.object3D.scale.set(eggScaleX, eggScaleY, eggScaleZ);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (this.isRotating && e.touches.length === 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const deltaX = (e.touches[0].pageX - this.startPos.x) * this.data.rotationSpeed;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const deltaY = (e.touches[0].pageY - this.startPos.y) * this.data.rotationSpeed;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.pisanka.object3D.rotation.y += THREE.MathUtils.degToRad(deltaX);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.pisanka.object3D.rotation.x += THREE.MathUtils.degToRad(deltaY);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.startPos.x = e.touches[0].pageX;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.startPos.y = e.touches[0].pageY;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  this.el.addEventListener('touchend', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.isRotating = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  this.isPinching = false;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>

